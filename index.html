<!DOCTYPE html>
<meta charset="utf-8">
<style>
 
	body {
	font: 10px sans-serif;
	}
	 
	.axis path, .axis line {
	fill: none;
	stroke: #000;
	shape-rendering: crispEdges;
	}
	 
	.point {
	fill: steelblue;
	stroke: #000;
	}
 
</style>
<body>
	<h1>We see light coming from stars that left (X) light years ago. In the same way, those stars RIGHT NOW will see light (including radio waves) that left Earth (x) light years ago. Cick on a star, and see what was happening on earth when that star light we see now left that star</h1>
	<script src="http://d3js.org/d3.v2.js?2.9.6"></script>
	<script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
	<script>
 
		var margin = {top: 20, right: 20, bottom: 30, left: 40},
		width = 960 - margin.left - margin.right,
		height = 500 - margin.top - margin.bottom;
		 
		var x = d3.scale.linear()
		.range([0, width]);
		 
		var y = d3.scale.linear()
		.range([height, 0]);

		var tip = d3.tip()
		  .attr('class', 'd3-tip')
		  .offset([-10, 0])
		  .html(function(d) {
			if ((d.x == 0) && (d.y == 0))
				return "THE SUN"
			else
		    	return "<strong>Distance:</strong> <span style='color:red'>" + d.distly + " light years </span><BR />" +
			d.date + " " + d.headline + "<BR /> <A HREF=\"" + d.link + "\">link to story</a>";
		  })
 
		var svg = d3.select("body").append("svg")
		.attr("width", width + margin.left + margin.right)
		.attr("height", height + margin.top + margin.bottom)
		.append("g")
		.attr("transform", "translate(" + margin.left + "," + margin.top + ")");

		svg.call(tip);

 
		d3.csv(href="https://jobwaffle.s3.amazonaws.com/amnh_data.csv", function(data) {
		 
		// Coerce the strings to numbers.
		data.forEach(function(d) {
			d.x = +d.x;
			d.y = +d.y;
			d.date = d.date_x;
			d.color = d.color;
			d.lum = d.lum;
			d.distly = d.distly;
			d.headline = d.headline;
			d.snippet = d.snippet;
			d.link = d.link;
		});
 
		// Compute the scalesâ€™ domains.
		x.domain(d3.extent(data, function(d) { return d.x; })).nice();
		y.domain(d3.extent(data, function(d) { return d.y; })).nice();
 
 
		// Add the points!
		svg.selectAll(".point")
		.data(data)
		.enter().append("path")
		.attr("class", "point")
		.attr("d", d3.svg.symbol().type("rect"))
		.attr("transform", function(d) { return "translate(" + x(d.x) + "," + y(d.y) + ")"; })
		.on('mouseover', tip.show)
		.on('mouseout', tip.hide)
		.filter(function(d) { return d.x ==0; })  //highlight the sun     
			.style("fill", "#FFF5F2") 
		});
 
	</script>
</body>


